# SQLite æ•°æ®åº“åˆå§‹åŒ–è¯´æ˜

## ğŸ—„ï¸ æ•°æ®åº“å·²æˆåŠŸåˆå§‹åŒ–ï¼

SQLiteæ•°æ®åº“å·²ç»é€šè¿‡å‘½ä»¤è¡Œå·¥å…·æˆåŠŸåˆ›å»ºå¹¶åˆå§‹åŒ–ã€‚

### ğŸ“Š æ•°æ®åº“ä¿¡æ¯

- **æ•°æ®åº“æ–‡ä»¶**: `data/lzc-story.db`
- **æ•°æ®åº“å¤§å°**: 24KB
- **åˆ›å»ºæ—¶é—´**: 2024å¹´10æœˆ19æ—¥

### ğŸ“‹ å·²åˆ›å»ºçš„è¡¨

1. **admin_config** - ç®¡ç†å‘˜é…ç½®è¡¨
   - `id` - ä¸»é”®
   - `password_hash` - å¯†ç å“ˆå¸Œ
   - `created_at` - åˆ›å»ºæ—¶é—´

2. **albums** - ä¸“è¾‘è¡¨
   - `id` - ä¸»é”®
   - `name` - ä¸“è¾‘åç§°
   - `path` - ä¸“è¾‘è·¯å¾„
   - `created_at` - åˆ›å»ºæ—¶é—´
   - `updated_at` - æ›´æ–°æ—¶é—´

3. **audio_files** - éŸ³é¢‘æ–‡ä»¶è¡¨
   - `id` - ä¸»é”®
   - `album_id` - ä¸“è¾‘IDï¼ˆå¤–é”®ï¼‰
   - `filename` - æ–‡ä»¶å
   - `filepath` - æ–‡ä»¶è·¯å¾„
   - `duration` - æ—¶é•¿
   - `created_at` - åˆ›å»ºæ—¶é—´

4. **play_history** - æ’­æ”¾å†å²è¡¨
   - `id` - ä¸»é”®
   - `album_id` - ä¸“è¾‘IDï¼ˆå¤–é”®ï¼‰
   - `audio_file_id` - éŸ³é¢‘æ–‡ä»¶IDï¼ˆå¤–é”®ï¼‰
   - `played_at` - æ’­æ”¾æ—¶é—´

### ğŸ”§ æ•°æ®åº“æ“ä½œå‘½ä»¤

#### æŸ¥çœ‹æ‰€æœ‰è¡¨
```bash
sqlite3 data/lzc-story.db ".tables"
```

#### æŸ¥çœ‹è¡¨ç»“æ„
```bash
sqlite3 data/lzc-story.db ".schema"
```

#### æŸ¥çœ‹æ•°æ®
```bash
sqlite3 data/lzc-story.db "SELECT * FROM albums;"
```

#### å¤‡ä»½æ•°æ®åº“
```bash
sqlite3 data/lzc-story.db ".backup backup.db"
```

#### æ¢å¤æ•°æ®åº“
```bash
sqlite3 data/lzc-story.db ".restore backup.db"
```

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **better-sqlite3 é—®é¢˜**: å½“å‰better-sqlite3çš„Node.jsç»‘å®šæ–‡ä»¶æœ‰é—®é¢˜ï¼Œä½†æ•°æ®åº“æ–‡ä»¶å·²æ­£ç¡®åˆ›å»º
2. **æ•°æ®åº“æ–‡ä»¶**: æ•°æ®åº“æ–‡ä»¶ä½äº `data/lzc-story.db`
3. **æƒé™**: ç¡®ä¿åº”ç”¨æœ‰è¯»å†™æ•°æ®åº“æ–‡ä»¶çš„æƒé™
4. **å¤‡ä»½**: å»ºè®®å®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶

### ğŸš€ ä¸‹ä¸€æ­¥

æ•°æ®åº“å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨æ‡’çŒ«æ•…äº‹æœºåº”ç”¨äº†ï¼

è®¿é—® `http://localhost:3000` å¼€å§‹ä½¿ç”¨åº”ç”¨ã€‚
